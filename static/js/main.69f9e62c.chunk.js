(this["webpackJsonpapna-hisaab-2"]=this["webpackJsonpapna-hisaab-2"]||[]).push([[0],{25:function(e,t,n){e.exports={navbarStyle:"hisaab_navbarStyle__klqje",transactionItems:"hisaab_transactionItems__3op0P",amount:"hisaab_amount__2OASX",date:"hisaab_date__1q4OG"}},71:function(e,t,n){},72:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(17),i=n.n(r),s=(n(71),n(72),n(10)),o=n(59),l=n.n(o),d=n(63),b=n(42),u={members:[],transactions:[],toaster:{show:!1,header:"",text:""}};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var m=function(){var e,t;return(null===(e=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}())||void 0===e||null===(t=e.ls)||void 0===t?void 0:t.hisaab)||u}(),h=Object(b.b)("counter/fetchCount",function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=Object(b.c)({name:"hisaab",initialState:m,reducers:{addMember:function(e,t){var n=e.members.length;t.payload.id=n+1,e.members.push(t.payload)},updateMember:function(e,t){var n=e.members.findIndex((function(e){return e.id==t.payload.id}));e.members[n]=t.payload},removeMember:function(e,t){var n=e.members.findIndex((function(e){return e.id==t.payload.id}));e.members[n].inactive=1},addTransaction:function(e,t){var n=e.transactions.length;t.payload.id=n+1,e.transactions.push(t.payload)},deleteGroup:function(e,t){e.transactions=e.transactions.filter((function(e){return e.groupId!=t.payload}))},setToaster:function(e,t){e.toaster=t.payload}},extraReducers:function(e){e.addCase(h.pending,(function(e){e.status="loading"})).addCase(h.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),v=O.actions,x=v.addMember,p=v.removeMember,f=v.addTransaction,g=v.deleteGroup,y=v.updateMember,w=v.setToaster,N=function(e){var t;return null===e||void 0===e||null===(t=e.hisaab)||void 0===t?void 0:t.value},C=O.reducer,I=n(25),S=n.n(I),k=n(1);function T(){Object(s.c)(N),Object(s.b)();return Object(k.jsx)("div",{children:Object(k.jsx)("h1",{children:"dsandkns"})})}var L=n(28),E=n(12),A=n(2),B=n(4),M=n(88),_=n(105),G=n(89),z=n(90),W=n(91),D=n(92),F=n(8);function H(){var e=function(){var e=Object(a.useState)([0,0]),t=Object(F.a)(e,2),n=t[0],c=t[1];return Object(a.useLayoutEffect)((function(){function e(){c([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}();return Object(F.a)(e,1)[0]<481}function P(){var e=H(),t=Object(E.g)().pathname.split("/").pop(),n=Object(E.h)();return n.url="/"==n.url?"":n.url,console.log(n),Object(k.jsx)(M.a,{fluid:!0,children:Object(k.jsxs)(_.a,{justify:!0,variant:"pills",className:e?S.a.navbarStyle:"top",defaultActiveKey:t||"members",children:[Object(k.jsx)(_.a.Item,{children:Object(k.jsx)(_.a.Link,{as:L.b,to:"".concat(n.url,"/members"),eventKey:"members",children:Object(k.jsx)(G.a,{size:25})})}),Object(k.jsx)(_.a.Item,{children:Object(k.jsx)(_.a.Link,{as:L.b,to:"".concat(n.url,"/add-transaction"),eventKey:"add-transaction",children:Object(k.jsx)(z.a,{size:25})})}),Object(k.jsx)(_.a.Item,{children:Object(k.jsx)(_.a.Link,{as:L.b,to:"".concat(n.url,"/transactions"),eventKey:"transactions",children:Object(k.jsx)(W.a,{size:25})})}),Object(k.jsx)(_.a.Item,{children:Object(k.jsx)(_.a.Link,{as:L.b,to:"".concat(n.url,"/calculations"),eventKey:"calculations",children:Object(k.jsx)(D.a,{size:25})})})]})})}var K=n(103),R=n(107),U=n(93),J=n(94),q=n(65),V=n(102);function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fixed",n=["primary","success","danger","warning","info"],a=Math.floor("fixed"==t?e%n.length:Math.random()%n.length),c="bg-"+n[a];return c}var $=n(95),Q=n(96),Y=n(97),Z=n(98);n(101);function ee(e){var t,n,c,r,i,o=Object(s.b)(),l=Object(a.useState)((null===(t=e.data)||void 0===t?void 0:t.member)||{}),d=Object(F.a)(l,2),b=d[0],u=d[1],j=Object(a.useState)((null===(n=e.data.member)||void 0===n?void 0:n.name)||""),m=Object(F.a)(j,2),h=m[0],O=m[1],v=Object(a.useState)((null===(c=e.data.member)||void 0===c?void 0:c.organisation)||""),x=Object(F.a)(v,2),f=x[0],g=x[1],N=Object(a.useState)((null===(r=e.data.member)||void 0===r?void 0:r.email)||""),C=Object(F.a)(N,2),I=C[0],S=C[1],T=Object(a.useState)((null===(i=e.data.member)||void 0===i?void 0:i.mobile)||""),L=Object(F.a)(T,2),E=L[0],B=L[1];Object(a.useEffect)((function(){var t,n,a,c;O((null===(t=e.data.member)||void 0===t?void 0:t.name)||""),S((null===(n=e.data.member)||void 0===n?void 0:n.email)||""),B((null===(a=e.data.member)||void 0===a?void 0:a.mobile)||""),u(e.data.member||{}),g((null===(c=e.data.member)||void 0===c?void 0:c.organisation)||"")}),[e.data.member]);var M=X(b.id);return Object(k.jsxs)(V.a,{show:e.data.show,fullscreen:!0,onHide:e.hide,animation:!1,children:[Object(k.jsx)(V.a.Header,{className:M,closeButton:!0,closeVariant:"white",children:Object(k.jsx)(V.a.Title,{className:"text-light",children:h})}),Object(k.jsx)(V.a.Body,{children:Object(k.jsxs)(K.a,{onSubmit:function(e){e.preventDefault();var t=Object(A.a)(Object(A.a)({},b),{},{name:h,email:I,mobile:E,organisation:f});o(y(t)),o(w({show:!0,text:"Update Successful!"}))},children:[Object(k.jsx)(J.a,{children:Object(k.jsx)(q.a,{children:Object(k.jsx)("span",{className:"fst-italic",children:"Personal Information"})})}),Object(k.jsx)("br",{}),Object(k.jsx)(J.a,{className:"mb-3",children:Object(k.jsxs)(K.a.Group,{as:q.a,controlId:"formGridName",children:[Object(k.jsx)(K.a.Label,{visuallyHidden:!0,children:"Full Name"}),Object(k.jsxs)(R.a,{className:"mb-2",children:[Object(k.jsx)(R.a.Text,{className:"bg-light",children:Object(k.jsx)($.a,{})}),Object(k.jsx)(K.a.Control,{type:"text",placeholder:"FirstName LastName",value:h,onChange:function(e){return O(e.target.value)}})]})]})}),Object(k.jsx)(J.a,{className:"mb-3",children:Object(k.jsxs)(K.a.Group,{as:q.a,controlId:"formGridEmail",children:[Object(k.jsx)(K.a.Label,{visuallyHidden:!0,children:"Email"}),Object(k.jsxs)(R.a,{className:"mb-2",children:[Object(k.jsx)(R.a.Text,{className:"bg-light",children:Object(k.jsx)(Q.a,{})}),Object(k.jsx)(K.a.Control,{type:"email",placeholder:"Enter email",value:I,onChange:function(e){return S(e.target.value)}})]})]})}),Object(k.jsxs)(K.a.Group,{className:"mb-3",controlId:"formGridContact",children:[Object(k.jsx)(K.a.Label,{visuallyHidden:!0,children:"Contact Number"}),Object(k.jsxs)(R.a,{className:"mb-2",children:[Object(k.jsx)(R.a.Text,{className:"bg-light",children:Object(k.jsx)(Y.a,{})}),Object(k.jsx)(K.a.Control,{type:"number",placeholder:"Enter Contact Number",value:E,onChange:function(e){return B(e.target.value)}})]})]}),Object(k.jsxs)(K.a.Group,{className:"mb-3",controlId:"formGridOrg",children:[Object(k.jsx)(K.a.Label,{visuallyHidden:!0,children:"Organisation"}),Object(k.jsxs)(R.a,{className:"mb-2",children:[Object(k.jsx)(R.a.Text,{className:"bg-light",children:Object(k.jsx)(Z.a,{})}),Object(k.jsx)(K.a.Control,{type:"text",placeholder:"Enter Organisation",value:f,onChange:function(e){return g(e.target.value)}})]})]}),Object(k.jsx)("br",{}),Object(k.jsxs)(J.a,{className:"",children:[Object(k.jsx)(q.a,{className:"text-end",children:Object(k.jsx)(U.a,{variant:"primary",type:"submit",children:"Update"})}),Object(k.jsx)(q.a,{className:"text-start",children:Object(k.jsx)(U.a,{variant:"danger",className:"ms-2",onClick:function(t){console.log("trihe"),o(p({id:b.id})),e.hide()},children:"Delete"})})]})]})})]})}var te=n(106),ne=n(99),ae=c.a.memo((function(e){var t=X(e.member.id);Object(s.b)();return Object(k.jsxs)(te.a,{text:"white",style:{height:"100%"},className:"".concat(t," mb-2"),children:[Object(k.jsx)(te.a.Body,{children:Object(k.jsxs)(te.a.Title,{as:"h6",children:[e.member.name.split(" ")[0]," "]})}),Object(k.jsx)(te.a.Footer,{className:"p-1",children:Object(k.jsx)(ne.a,{onClickCapture:e.handleModal,"data-memberid":e.member.id,className:S.a.editButton})})]},e.member.id)}));function ce(e){var t,n=(null===(t=e.transaction)||void 0===t?void 0:t.groupId)||1,c=Object(s.b)(),r=Object(a.useState)(""),i=Object(F.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)(!1),b=Object(F.a)(d,2),u=b[0],j=b[1],m=Object(a.useState)({show:!1,member:{}}),h=Object(F.a)(m,2),O=h[0],v=h[1],p=Object(s.c)((function(t){return t.hisaab.members.filter((function(t){return t.groupId==e.groupId||n&&1!=t.inactive}))}));var f=function(e){v({show:!0,member:p.find((function(t){return t.id==e.currentTarget.dataset.memberid}))})};return Object(k.jsxs)("div",{className:"mb-5",children:[Object(k.jsx)(K.a,{noValidate:!0,onSubmitCapture:function(e){return e.preventDefault()},children:Object(k.jsxs)(R.a,{className:"mb-2",children:[Object(k.jsx)(K.a.Control,{type:"text",placeholder:"Enter Name of Member",value:o,required:!0,onChange:function(e){console.log("handling invalid"),-1==p.findIndex((function(t){return t.name.toLowerCase()==e.target.value.toLowerCase()}))?j(!1):j(!0),l(e.target.value)},isInvalid:u}),Object(k.jsx)(K.a.Control.Feedback,{type:"invalid",children:"Please choose a different name. Member Already Exists!"}),Object(k.jsx)(U.a,{variant:"primary",type:"submit",className:"btn-sm",onClick:function(){o&&-1==p.findIndex((function(e){return e.name==o}))&&(c(x({name:o,groupId:e.groupId||n})),l(""))},children:"Add"})]})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("br",{}),Object(k.jsx)(J.a,{xs:3,md:2,className:"g-4",children:p.map((function(e){return e.name.toLowerCase().includes(o.toLowerCase())&&Object(k.jsx)(q.a,{children:Object(k.jsx)(ae,{member:e,handleModal:f},e.id)},e.id)}))})]}),Object(k.jsx)(ee,{data:O,hide:function(){return v({show:!1})}})]})}var re=n(108),ie=n(100);function se(e){var t=e.groupId||1,n=Object(s.c)((function(e){return e.hisaab.members.filter((function(e){return e.groupId==t}))})),a=Object(s.c)((function(e){return e.hisaab.transactions.filter((function(e){return e.groupId==t})).reverse()}));return Object(k.jsx)("div",{children:Object(k.jsx)(re.a,{children:a.map((function(e){var t;return Object(k.jsx)(re.a.Item,{children:Object(k.jsxs)("div",{className:S.a.transactionItems,children:[Object(k.jsxs)("span",{children:[null===(t=n.find((function(t){return t.id==e.spentBy})))||void 0===t?void 0:t.name," paid for ",e.type,Object(k.jsx)("br",{}),Object(k.jsxs)("span",{children:[Object(k.jsx)(ie.a,{size:10})," ",e.desc]})]}),Object(k.jsxs)("span",{className:S.a.amount,children:[" \u20b9",e.amount]}),Object(k.jsx)("span",{className:S.a.date,children:new Date(e.datetime).toDateString()})]})},e.id)}))})})}var oe=n(66);function le(e){var t,n,c,r,i,o,l,d=(null===(t=e.transaction)||void 0===t?void 0:t.groupId)||1,b=Object(s.b)(),u=Object(a.useState)(null===(n=e.transaction)||void 0===n?void 0:n.amount),j=Object(F.a)(u,2),m=j[0],h=j[1],O=[{type:"Food",id:"1"},{type:"Travel",id:"2"},{type:"Entertainment",id:"3"},{type:"Other",id:"4"}],v=Object(a.useState)((null===(c=e.transaction)||void 0===c?void 0:c.amount)||O[0]),x=Object(F.a)(v,2),p=x[0],g=x[1],y=Object(a.useState)(null===(r=e.transaction)||void 0===r?void 0:r.desc),N=Object(F.a)(y,2),C=N[0],I=N[1],S=(null===(i=e.transaction)||void 0===i?void 0:i.among)||[],T=Object(s.c)((function(e){return e.hisaab.members.filter((function(e){return e.groupId==d&&1!=e.inactive}))})),L=Object(a.useState)((null===(o=e.transaction)||void 0===o?void 0:o.among)||(null===(l=T[0])||void 0===l?void 0:l.id)),E=Object(F.a)(L,2),A=E[0],B=E[1],M=function(e){var t=S.findIndex((function(t){return t.id==e.target.value}));-1==t?S.push({id:e.target.value,isChecked:e.target.checked}):S[t].isChecked=e.target.checked};return Object(k.jsxs)(K.a,{onSubmit:function(e){e.preventDefault(),!isNaN(A)&&S.length>0&&(!function(){var e={groupId:d,type:p.type,datetime:Date.now(),desc:C,amount:m,among:S.filter((function(e){return 1==e.isChecked})).map((function(e){return e.id})),spentBy:A};b(f(e)),b(w({show:!0,text:"Transaction Added!"}))}(),e.target.reset(),h(),I())},className:"mb-5",children:[T.length>=0?Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"input-group",children:[Object(k.jsx)("span",{className:"input-group-text bg-light",children:"\u20b9"}),Object(k.jsx)("input",{type:"number",className:"form-control",value:m,onChange:function(e){return h(e.target.value)},"aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"00.00"}),Object(k.jsx)("span",{className:"input-group-text bg-light",children:"By"}),Object(k.jsx)("select",{value:A,onChange:function(e){return B(e.target.value)},className:"form-select","aria-label":"Paid By",children:T.map((function(e){return Object(k.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"text-center mb-3",children:Object(k.jsx)(oe.a,{controlId:"floatingSelect",label:"For",size:"sm",children:Object(k.jsx)(K.a.Select,{"aria-label":"Floating label select example",onChange:function(e){console.log(e.target.selectedIndex),g(O[e.target.selectedIndex])},children:O.map((function(e){return Object(k.jsx)("option",{value:e.id,children:e.type},e.id)}))})})}),Object(k.jsxs)("div",{className:"input-group mb-3",children:[Object(k.jsx)("input",{type:"text",className:"form-control",value:p.type,onChange:function(e){g({type:e.target.value,id:0})},"aria-label":"Text input with segmented dropdown button"}),Object(k.jsx)("span",{className:"input-group-text bg-light",children:"@"}),Object(k.jsx)("input",{type:"text",className:"form-control",value:C,onChange:function(e){return I(e.target.value)},"aria-label":"Text input with segmented dropdown button"})]}),Object(k.jsx)("br",{}),Object(k.jsx)("legend",{children:"Split Between?"}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(J.a,{xs:3,md:2,className:"g-4",children:T.map((function(e){var t;return Object(k.jsx)(q.a,{className:"mt-1 text-start",children:Object(k.jsx)(K.a.Check,{className:"text-dark",inline:!0,type:"checkbox",id:e.id,value:e.id,label:e.name.split(" ")[0],onChange:M,checked:null===(t=S.find((function(t){return t.id==e.id})))||void 0===t?void 0:t.isChecked},"inline-".concat(e.id))},"inline-".concat(e.id))}))}),Object(k.jsx)("div",{className:"mb-3"}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{style:{textAlign:"center",margin:"10"},children:Object(k.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Add Expense"})})]}):Object(k.jsx)("div",{style:{textAlign:"center"},children:Object(k.jsx)("span",{children:"Try Adding Members First !"})}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{})]})}function de(e){var t,n=Object(s.b)(),a=(null===(t=e.transaction)||void 0===t?void 0:t.groupId)||1;return Object(k.jsxs)("div",{children:["calculations",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{children:Object(k.jsx)(U.a,{variant:"danger",onClick:function(){return n(g(a))},children:" Reset"})})]})}var be=n(104);function ue(e){var t=Object(s.b)(),n=Object(s.c)((function(e){return e.hisaab.toaster}));return Object(k.jsxs)(be.a,{bg:"success",onClose:function(){return t(w({show:!1}))},show:null===n||void 0===n?void 0:n.show,delay:1500,style:{zIndex:"10000",position:"fixed",top:10,left:5},autohide:!0,children:[(null===n||void 0===n?void 0:n.header)&&Object(k.jsx)(be.a.Header,{closeButton:!1,children:Object(k.jsx)("strong",{className:"me-auto",children:null===n||void 0===n?void 0:n.header})}),Object(k.jsx)(be.a.Body,{className:"text-white",children:null===n||void 0===n?void 0:n.text})]})}var je=["component"],me=function(e){e.children;var t=Object(E.h)();return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:" "}),Object(k.jsx)(P,{}),Object(k.jsx)("br",{}),Object(k.jsx)(M.a,{style:{marginBottom:40},children:Object(k.jsxs)(E.d,{children:[Object(k.jsx)(E.b,{exact:!0,path:t.path,children:Object(k.jsx)(E.a,{to:"/members"})}),Object(k.jsx)(E.b,{path:"/members",component:ce}),Object(k.jsx)(E.b,{path:"/transactions",component:se}),Object(k.jsx)(E.b,{path:"/add-transaction",component:le}),Object(k.jsx)(E.b,{path:"/calculations",component:de})]})}),Object(k.jsx)(ue,{})]})},he=function(e){var t=e.component,n=Object(B.a)(e,je);return Object(k.jsx)(E.b,Object(A.a)(Object(A.a)({},n),{},{render:function(e){return Object(k.jsx)(me,{children:Object(k.jsx)(t,Object(A.a)({},e))})}}))};var Oe=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(L.a,{basename:"/apnahisaab",children:Object(k.jsx)(E.d,{children:Object(k.jsx)(he,{path:"/",component:T})})})})},ve=Object(b.a)({reducer:{hisaab:C}});ve.subscribe((function(){console.log(ve.getState()),xe({ls:ve.getState()})}));var xe=function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}},pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(s.a,{store:ve,children:Object(k.jsx)(Oe,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/apnahisaab",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/apnahisaab","/service-worker.js");pe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):fe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):fe(t,e)}))}}()}},[[83,1,2]]]);
//# sourceMappingURL=main.69f9e62c.chunk.js.map